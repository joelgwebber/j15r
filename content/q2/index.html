<!DOCTYPE html>
<html>
  <head>
    <title>Quake II Demo</title>
    <style>
      header {
        position: fixed;
        background-color: black;
        height: 128px;
        padding: 16px 16px 16px 150px;
        font-family: monospace;
        background-image: url(/projects/quake2/featured.png);
        background-position: left;
        background-repeat: no-repeat;
        background-size: 128px;
      }
    </style>
  </head>

  <body style="background-color:#000;color:#ddd;border:0;margin:0;padding:0">
    <div id="splash" style="margin:20px">
      <header>
        Quake II Demo.
        <br><br>
        This currently works only in Google Chrome. Please see <a href="/projects/quake2">this article</a> for an explanation.
      </header>

      <pre id="log"></pre>
      <div id="log-bottom"></div>
    </div>

    <div style="margin-left: auto; margin-right: auto; width:800px;height:500px;visibility:hidden" id='playn-root'></div>

    <script src="lib/idb.filesystem.js"></script>
    <script src="lib/zip.js"></script>
    <script src="lib/zip-ext.js"></script>
    <script src="lib/inflate.js"></script>
    <script src="download.js"></script>
    <script src="PlayNQuake/PlayNQuake.nocache.js"></script>
    <script>downloadAndUnpack('q2-314-demo-x86.exe')</script>

    <script>
      window['_fs_host'] = 'staging.fullstory.com';
      window['_fs_script'] = 'edge.staging.fullstory.com/s/fs.js';
      window['_fs_org'] = 'j15r.com';
      window['_fs_namespace'] = 'FS';
      (function(m,n,e,t,l,o,g,y){
          if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
          g=m[e]=function(a,b,s){g.q?g.q.push([a,b,s]):g._api(a,b,s);};g.q=[];
          o=n.createElement(t);o.async=1;o.crossOrigin='anonymous';o.src='https://'+_fs_script;
          y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
          g.identify=function(i,v,s){g(l,{uid:i},s);if(v)g(l,v,s)};g.setUserVars=function(v,s){g(l,v,s)};g.event=function(i,v,s){g('event',{n:i,p:v},s)};
          g.anonymize=function(){g.identify(!!0)};
          g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
          g.log = function(a,b){g("log",[a,b])};
          g.consent=function(a){g("consent",!arguments.length||a)};
          g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
          g.clearUserCookie=function(){};
          g.setVars=function(n, p){g('setVars',[n,p]);};
          g._w={};y='XMLHttpRequest';g._w[y]=m[y];y='fetch';g._w[y]=m[y];
          if(m[y])m[y]=function(){return g._w[y].apply(this,arguments)};
          g._v="1.3.0";
      })(window,document,window['_fs_namespace'],'script','user');
      </script>
  </body>
</html>
